<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>bikelanes-map</title>
        <link rel="stylesheet" href="src/leaflet.css">
        <link rel="stylesheet" href="src/css/bootstrap.css">
        <link rel="stylesheet" href="src/plugins/Leaflet.PolylineMeasure.css">
        <script src="src/leaflet.js"></script>
        <script src="src/jquery-3.2.0.min.js"></script>
        <script src="src/plugins/leaflet.ajax.min.js"></script>
        <script src="src/leaflet-providers.js"></script>
        <script src="src/plugins/Leaflet.PolylineMeasure.js"></script>
    </head>
        <style>
            body {margin:0; padding:0;}
            #mapdiv {position: absolute; top:0; bottom:0; right:0; left:0;}
            #map-title { position: relative; margin-top: 10px; margin-left: 50px; float: left; 
                         background: white; border: 2px solid rgba(0,0,0,0.2); padding: 6px 8px; 
                         font-family: Helvetica; font-weight: bold; font-size: 24px; z-index: 800; }
        </style>
    <body>
        <div id="map-title" >Bayanihan II bike lanes</div>
        <!-- <div id="side-bar" class="col-md-3"></div> -->
        <div id="mapdiv"></div>
        <script>
            var mymap;
            var lyrCarto; 
            var lyrOSM;
            var lyrToner;
            var lyrImagery
            var lyrBikeLanesNCR_ba2;
            var lyrBikeLanesSNCR_2021;
            var lyrBikeLanesQC;
            var ctlLayers;
            var ctlMeasure;
            var objBasemaps;
            var objOverlays;
// test
            $(document).ready(function(){         
                mymap = L.map('mapdiv', {center:[14.609, 121.022], zoom:11, zoomControl:false});
                ctlMeasure = L.control.polylineMeasure().addTo(mymap);
                lyrCarto = L.tileLayer.provider('CartoDB.Positron', 
                                                {attribution: '&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors, &copy;<a href="https://carto.com/attribution">CARTO</a>',
                                                 subdomains: 'abcd',
	                                             maxZoom: 19});
                lyrCarto.addTo(mymap);
                lyrOSM = L.tileLayer.provider('OpenStreetMap.Mapnik', 
                                                {attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                                                 maxZoom: 19,});
                lyrToner = L.tileLayer.provider('Stamen.TonerLite', 
                                                {attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
	                                             subdomains: 'abcd',
                                                 minZoom: 0,
                                                 maxZoom: 20,
                                                 ext: 'png'});
                lyrImagery = L.tileLayer.provider('Esri.WorldImagery',
                                                  {attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'});
                lyrBikeLanesNCR_ba2 = L.geoJSON.ajax('data/ba2_bikelanes_ncr.geojson', {style:ba2ncrStyle}).addTo(mymap);
                lyrBikeLanesSNCR_2021 = L.geoJSON.ajax('data/2021_bikelanes_south_ncr.geojson', {style:sncrStyle}).addTo(mymap);
                lyrBikeLanesQC = L.geoJSON.ajax('data/qc_bikelanes_ncr.geojson', {style:qcblStyle}).addTo(mymap);               
                objBasemaps = {
                    "Carto Positron": lyrCarto,
                    "OpenStreetMap": lyrOSM,
                    "Stamen Toner Lite": lyrToner,
                    "ESRI Imagery": lyrImagery
                }

                objOverlays = {
                    "BA2 NCR": lyrBikeLanesNCR_ba2,
                    "2021 South NCR": lyrBikeLanesSNCR_2021,
                    "QC LGU": lyrBikeLanesQC
                }

                ctlLayers = L.control.layers(objBasemaps, objOverlays).addTo(mymap);

                function ba2ncrStyle(geojson) {
                    return{
                        color: 'black',
                    }};

                function sncrStyle(geojson) {
                    return{
                        color: 'blue'
                    }};

                function qcblStyle(geojson) {
                    return{
                        color: 'green',
                        dashArray: '5, 5'
                    }};
            
            });
            
        </script>
    </body>
</html>